# Base image
FROM openjdk:11-jdk-slim

# Set timezone
ENV TZ=Asia/Seoul

# Install Maven
RUN apt-get update && \
    apt-get install -y maven && \
    rm -rf /var/lib/apt/lists/*

# Copy and build Spring Boot app
COPY . /app
WORKDIR /app
RUN mvn clean package -DskipTests

# Copy application.yml
COPY application.yml /app/src/main/resources/

# Expose port
EXPOSE 8080

# Start Spring Boot app
CMD ["java", "-jar", "target/app.jar"]
